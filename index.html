<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ AI Agent Hub - –†–æ–∑—É–º–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chats.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/photo.css">
    <link rel="stylesheet" href="css/planner.css">
    
    <!-- Prism.js -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
</head>
<body>
    <div class="container" id="mainContainer">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>ü§ñ AI Agent Hub</h2>
                <p style="font-size: 12px; opacity: 0.8; margin-top: 5px;">–†–æ–∑—É–º–Ω–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç</p>
            </div>
            
            <div class="sidebar-menu">
                <button class="menu-btn active" onclick="switchMode('gemini')">
                    <span class="menu-icon">‚ú®</span>
                    <span class="menu-text">Gemini Chat</span>
                </button>
                <button class="menu-btn" onclick="switchMode('deepseek')">
                    <span class="menu-icon">üíª</span>
                    <span class="menu-text">DeepSeek Coder</span>
                </button>
                <button class="menu-btn" onclick="switchMode('image')">
                    <span class="menu-icon">üñºÔ∏è</span>
                    <span class="menu-text">Image Generator</span>
                </button>
                <button class="menu-btn" onclick="switchMode('planner')">
                    <span class="menu-icon">üìÖ</span>
                    <span class="menu-text">–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫</span>
                    <span class="badge" id="plansBadge" style="display: none;">0</span>
                </button>
                <button class="menu-btn" onclick="switchMode('memory')">
                    <span class="menu-icon">üß†</span>
                    <span class="menu-text">–ü–∞–º'—è—Ç—å –∞–≥–µ–Ω—Ç–∞</span>
                </button>
                <button class="menu-btn" onclick="switchMode('library')">
                    <span class="menu-icon">üìö</span>
                    <span class="menu-text">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞</span>
                </button>
                <button class="menu-btn" onclick="switchMode('settings')">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span class="menu-text">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
                </button>
            </div>
            
            <!-- Agent Status -->
            <div class="agent-status" id="agentStatus">
                <div class="status-indicator">
                    <div class="pulse"></div>
                    <span>–ê–≥–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω–∏–π</span>
                </div>
                <div class="status-info">
                    <div>üéØ –ó–∞–≤–¥–∞–Ω—å: <span id="activeTasks">0</span></div>
                    <div>üíæ –°–ø–æ–≥–∞–¥—ñ–≤: <span id="memoryCount">0</span></div>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <button class="theme-toggle" onclick="toggleTheme()" title="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É">
                    <span id="themeIcon">üåô</span>
                </button>
            </div>
        </div>

        <!-- Gemini Chat -->
        <div class="mode-content active" id="geminiMode">
            <div class="chat-section full-width">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>‚ú® Gemini Chat</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="saveConversation('gemini')">üíæ</button>
                        <button class="clear-chat-btn" onclick="clearChat('gemini')">üóëÔ∏è</button>
                    </div>
                </div>
                <div class="messages" id="geminiMessages"></div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="geminiInput" placeholder="–ó–∞–¥–∞–π –ø–∏—Ç–∞–Ω–Ω—è (Ctrl+Enter)..." rows="1"></textarea>
                        <button id="geminiSendBtn" onclick="sendGeminiMessage()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- DeepSeek Coder -->
        <div class="mode-content" id="deepseekMode">
            <div class="chat-section">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üíª DeepSeek Coder</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="uploadLocalFile()" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª">üìÅ –§–∞–π–ª</button>
                        <button class="preview-toggle-btn" onclick="togglePreview()">üëÅÔ∏è Preview</button>
                        <button class="save-chat-btn" onclick="saveConversation('deepseek')">üíæ</button>
                        <button class="clear-chat-btn" onclick="clearChat('deepseek')">üóëÔ∏è</button>
                    </div>
                </div>
                <div class="messages" id="deepseekMessages"></div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="deepseekInput" placeholder="–û–ø–∏—à–∏ —â–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏... (Ctrl+Enter)" rows="1"></textarea>
                        <button id="deepseekSendBtn" onclick="sendDeepseekMessage()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
                    </div>
                </div>
            </div>

            <div class="code-section" id="codeSection">
                <div class="code-header">
                    <h2>üìÅ –§–∞–π–ª–∏ –ø—Ä–æ–µ–∫—Ç—É</h2>
                    <div class="code-actions">
                        <button onclick="downloadAllAsZip()">üì¶ ZIP</button>
                    </div>
                </div>
                <div class="file-tabs" id="fileTabs"></div>
                <div class="code-content" id="codeContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìù</div>
                        <h3>–ù–µ–º–∞—î —Ñ–∞–π–ª—ñ–≤</h3>
                        <p>–ó–∞–≤–∞–Ω—Ç–∞–∂ –∞–±–æ —Å—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç</p>
                    </div>
                </div>
            </div>

            <div class="preview-panel" id="previewPanel">
                <div class="preview-header">
                    <h3>üëÅÔ∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥</h3>
                    <button onclick="closePreview()">‚úï</button>
                </div>
                <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
            </div>
        </div>

        <!-- Image Generator -->
        <div class="mode-content" id="imageMode">
            <div class="chat-section full-width">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üñºÔ∏è Image Generator</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="clearChat('image')">üóëÔ∏è</button>
                    </div>
                </div>
                <div class="image-gallery" id="imageGallery">
                    <div class="empty-state">
                        <div class="empty-state-icon">üé®</div>
                        <h3>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å</h3>
                        <p>–û–ø–∏—à–∏ —â–æ —Ö–æ—á–µ—à –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏</p>
                    </div>
                </div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="imageInput" placeholder="–û–ø–∏—à–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é..." rows="1"></textarea>
                        <button id="imageSendBtn" onclick="generateImage()">–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Planner -->
        <div class="mode-content" id="plannerMode">
            <div class="planner-container">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üìÖ –†–æ–∑—É–º–Ω–∏–π –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="createPlan()">‚ûï –ù–æ–≤–∏–π –ø–ª–∞–Ω</button>
                    </div>
                </div>
                
                <div class="planner-content">
                    <div class="plans-grid" id="plansGrid">
                        <div class="empty-state">
                            <div class="empty-state-icon">üìã</div>
                            <h3>–ù–µ–º–∞—î –ø–ª–∞–Ω—ñ–≤</h3>
                            <p>–°—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –ø–µ—Ä—à–∏–π –ø–ª–∞–Ω</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Memory -->
        <div class="mode-content" id="memoryMode">
            <div class="memory-container">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üß† –ü–∞–º'—è—Ç—å –∞–≥–µ–Ω—Ç–∞</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="addMemory()">‚ûï –î–æ–¥–∞—Ç–∏</button>
                        <button class="clear-chat-btn" onclick="exportMemories()">üì§ –ï–∫—Å–ø–æ—Ä—Ç</button>
                        <button class="clear-chat-btn" onclick="clearMemories()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
                    </div>
                </div>
                
                <div class="memory-content">
                    <div class="memory-stats">
                        <div class="stat-card">
                            <div class="stat-icon">üí≠</div>
                            <div class="stat-info">
                                <div class="stat-label">–°–ø–æ–≥–∞–¥—ñ–≤</div>
                                <div class="stat-value" id="totalMemories">0</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚≠ê</div>
                            <div class="stat-info">
                                <div class="stat-label">–í–∞–∂–ª–∏–≤–∏—Ö</div>
                                <div class="stat-value" id="importantMemories">0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="memory-search">
                        <input type="text" id="memorySearch" placeholder="üîç –ü–æ—à—É–∫..." oninput="searchMemories()">
                    </div>
                    
                    <div class="memories-list" id="memoriesList">
                        <div class="empty-state">
                            <div class="empty-state-icon">üß†</div>
                            <h3>–ü–∞–º'—è—Ç—å –ø–æ—Ä–æ–∂–Ω—è</h3>
                            <p>–î–æ–¥–∞–π –ø–µ—Ä—à–∏–π —Å–ø–æ–≥–∞–¥</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Library -->
        <div class="mode-content" id="libraryMode">
            <div class="library-container">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üìö –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞</h1>
                    </div>
                    <div class="header-actions">
                        <input type="text" id="librarySearch" placeholder="üîç –ü–æ—à—É–∫..." oninput="filterLibrary()">
                    </div>
                </div>
                
                <div class="library-filters">
                    <button class="filter-btn active" onclick="filterByType('all')">–í—Å—ñ</button>
                    <button class="filter-btn" onclick="filterByType('gemini')">‚ú® Gemini</button>
                    <button class="filter-btn" onclick="filterByType('deepseek')">üíª DeepSeek</button>
                    <button class="filter-btn" onclick="filterByType('favorites')">‚≠ê –£–ª—é–±–ª–µ–Ω—ñ</button>
                </div>

                <div class="library-content" id="libraryContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìö</div>
                        <h3>–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø–æ—Ä–æ–∂–Ω—è</h3>
                        <p>–ó–±–µ—Ä–µ–∂–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —Ç—É—Ç</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div class="mode-content" id="settingsMode">
            <div class="settings-container">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h1>
                    </div>
                </div>
                
                <div class="settings-content">
                    <div class="settings-section">
                        <h2>üîë API –ö–ª—é—á—ñ</h2>
                        <div class="setting-item">
                            <label>Gemini API Key</label>
                            <input type="password" id="geminiApiKey" placeholder="AIza...">
                            <small>–û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞ <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
                        </div>
                        <div class="setting-item">
                            <label>Groq API Key (DeepSeek)</label>
                            <input type="password" id="groqApiKey" placeholder="gsk_...">
                            <small>–û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞ <a href="https://console.groq.com/keys" target="_blank">Groq Console</a></small>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">‚ú®</div>
                                <div class="stat-info">
                                    <div class="stat-label">Gemini –∑–∞–ø–∏—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statGemini">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üíª</div>
                                <div class="stat-info">
                                    <div class="stat-label">DeepSeek –∑–∞–ø–∏—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statDeepseek">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üñºÔ∏è</div>
                                <div class="stat-info">
                                    <div class="stat-label">–ó–æ–±—Ä–∞–∂–µ–Ω—å</div>
                                    <div class="stat-value" id="statImages">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìö</div>
                                <div class="stat-info">
                                    <div class="stat-label">–ü—Ä–æ–µ–∫—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statSaved">0</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button class="save-btn" onclick="saveSettings()">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
                        <button class="clear-btn" onclick="clearAllData()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- File Input -->
    <input type="file" id="fileInput" style="display: none" accept=".html,.css,.js,.json,.txt,.md,.py,.java,.cpp,.c,.go,.rs,.php,.rb" multiple onchange="handleFileUpload(event)">

    <!-- Modals -->
    <div class="modal" id="planModal">
        <div class="modal-content">
            <h3>üìÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–ª–∞–Ω</h3>
            <input type="text" id="planTitle" placeholder="–ù–∞–∑–≤–∞ –ø–ª–∞–Ω—É...">
            <textarea id="planDescription" placeholder="–û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è..." rows="3"></textarea>
            <input type="datetime-local" id="planDeadline">
            <select id="planPriority">
                <option value="low">üü¢ –ù–∏–∑—å–∫–∏–π</option>
                <option value="medium" selected>üü° –°–µ—Ä–µ–¥–Ω—ñ–π</option>
                <option value="high">üî¥ –í–∏—Å–æ–∫–∏–π</option>
            </select>
            <div class="modal-actions">
                <button onclick="savePlan()">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                <button onclick="closeModal('planModal')">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <div class="modal" id="memoryModal">
        <div class="modal-content">
            <h3>üß† –î–æ–¥–∞—Ç–∏ —Å–ø–æ–≥–∞–¥</h3>
            <input type="text" id="memoryTitle" placeholder="–ü—Ä–æ —â–æ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏...">
            <textarea id="memoryContent" placeholder="–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è..." rows="4"></textarea>
            <label>
                <input type="checkbox" id="memoryImportant">
                ‚≠ê –í–∞–∂–ª–∏–≤–æ
            </label>
            <div class="modal-actions">
                <button onclick="saveMemory()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                <button onclick="closeModal('memoryModal')">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <div class="modal" id="saveModal">
        <div class="modal-content">
            <h3>üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–æ–∑–º–æ–≤—É</h3>
            <input type="text" id="saveTitle" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É...">
            <textarea id="saveTags" placeholder="–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∫–æ–º—É)..." rows="2"></textarea>
            <div class="modal-actions">
                <button onclick="confirmSave()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                <button onclick="closeSaveModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

<!-- Scripts - –ü–†–ê–í–ò–õ–¨–ù–ò–ô –ü–û–†–Ø–î–û–ö -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <!-- Core scripts —Å–ø–æ—á–∞—Ç–∫—É -->
    <script src="js/general.js"></script>
    <script src="js/settings.js"></script>
    
    <!-- Agent —Å–∏—Å—Ç–µ–º–∞ -->
    <script src="js/agent-core.js"></script>
    
    <!-- –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥—É–ª—ñ -->
    <script src="js/gemini.js"></script>
    <script src="js/deepseek.js"></script>
    <script src="js/photo.js"></script>
    <script src="js/planner.js"></script>
    <script src="js/memory.js"></script>
    
    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó -->
    <script src="js/file-upload.js"></script>
    <script src="js/github-integration.js"></script>
    <script src="js/smart-commands.js"></script>
</body>
</html>
