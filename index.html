<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Assistant Hub</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chats.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/photo.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
</head>
<body>
    <div class="container" id="mainContainer">
        <!-- –ë—ñ—á–Ω–µ –º–µ–Ω—é -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>ü§ñ AI Hub</h2>
            </div>
            <div class="sidebar-menu">
                <button class="menu-btn active" onclick="switchMode('gemini')">
                    <span class="menu-icon">‚ú®</span>
                    <span class="menu-text">Gemini Chat</span>
                </button>
                <button class="menu-btn" onclick="switchMode('deepseek')">
                    <span class="menu-icon">üíª</span>
                    <span class="menu-text">DeepSeek Coder</span>
                </button>
                <button class="menu-btn" onclick="switchMode('image')">
                    <span class="menu-icon">üñºÔ∏è</span>
                    <span class="menu-text">Image Generator</span>
                </button>
                <button class="menu-btn" onclick="switchMode('library')">
                    <span class="menu-icon">üìö</span>
                    <span class="menu-text">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞</span>
                </button>
                <button class="menu-btn" onclick="switchMode('settings')">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span class="menu-text">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
                </button>
            </div>
            
            <div class="sidebar-footer">
                <button class="theme-toggle" onclick="toggleTheme()" title="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É">
                    <span id="themeIcon">üåô</span>
                </button>
            </div>
        </div>

        <!-- Gemini Chat -->
        <div class="mode-content active" id="geminiMode">
            <div class="chat-section full-width">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>‚ú® Gemini Chat</h1>
                    </div>
                    <div class="header-actions">
                        <button class="save-chat-btn" onclick="saveConversation('gemini')" title="–ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–æ–∑–º–æ–≤—É">
                            üíæ
                        </button>
                        <button class="clear-chat-btn" onclick="clearChat('gemini')" title="–û—á–∏—Å—Ç–∏—Ç–∏ —á–∞—Ç">
                            üóëÔ∏è
                        </button>
                    </div>
                </div>
                <div class="messages" id="geminiMessages"></div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="geminiInput" placeholder="–ó–∞–¥–∞–π –ø–∏—Ç–∞–Ω–Ω—è... (Ctrl+Enter –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏)" rows="1"></textarea>
                        <button id="geminiSendBtn" onclick="sendGeminiMessage()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
                    </div>
                    <div class="shortcuts-hint">
                        üí° <kbd>Ctrl</kbd> + <kbd>K</kbd> - –ü–æ—à—É–∫ | <kbd>Ctrl</kbd> + <kbd>Enter</kbd> - –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ | <kbd>Ctrl</kbd> + <kbd>S</kbd> - –ó–±–µ—Ä–µ–≥—Ç–∏
                    </div>
                </div>
            </div>
        </div>

        <!-- DeepSeek Coder -->
        <div class="mode-content" id="deepseekMode">
            <div class="chat-section">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üíª DeepSeek Coder</h1>
                    </div>
                    <div class="header-actions">
                        <button class="preview-toggle-btn" onclick="togglePreview()" title="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ HTML">
                            üëÅÔ∏è
                        </button>
                        <button class="save-chat-btn" onclick="saveConversation('deepseek')" title="–ó–±–µ—Ä–µ–≥—Ç–∏ –ø—Ä–æ–µ–∫—Ç">
                            üíæ
                        </button>
                        <button class="clear-chat-btn" onclick="clearChat('deepseek')" title="–û—á–∏—Å—Ç–∏—Ç–∏ —á–∞—Ç">
                            üóëÔ∏è
                        </button>
                    </div>
                </div>
                <div class="messages" id="deepseekMessages"></div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="deepseekInput" placeholder="–û–ø–∏—à–∏ —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏... (Ctrl+Enter –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏)" rows="1"></textarea>
                        <button id="deepseekSendBtn" onclick="sendDeepseekMessage()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
                    </div>
                    <div class="shortcuts-hint">
                        üí° <kbd>Ctrl</kbd> + <kbd>K</kbd> - –ü–æ—à—É–∫ | <kbd>Ctrl</kbd> + <kbd>Enter</kbd> - –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏
                    </div>
                </div>
            </div>

            <div class="code-section" id="codeSection">
                <div class="code-header">
                    <h2>üìÅ –§–∞–π–ª–∏ –ø—Ä–æ—î–∫—Ç—É</h2>
                    <div class="code-actions">
                        <button onclick="downloadAllAsZip()" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ —è–∫ ZIP">
                            üì¶ ZIP
                        </button>
                        <button onclick="showDiffViewer()" title="–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –≤–µ—Ä—Å—ñ—ó">
                            üîÑ Diff
                        </button>
                    </div>
                </div>
                <div class="file-tabs" id="fileTabs"></div>
                <div class="code-content" id="codeContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìù</div>
                        <h3>–ù–µ–º–∞—î —Ñ–∞–π–ª—ñ–≤</h3>
                        <p>–ö–æ–¥ –∑'—è–≤–∏—Ç—å—Å—è —Ç—É—Ç –ø—ñ—Å–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ AI</p>
                    </div>
                </div>
            </div>

            <div class="preview-panel" id="previewPanel">
                <div class="preview-header">
                    <h3>üëÅÔ∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥</h3>
                    <button onclick="closePreview()">‚úï</button>
                </div>
                <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
            </div>
        </div>

        <!-- Image Generator -->
        <div class="mode-content" id="imageMode">
            <div class="chat-section full-width">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üñºÔ∏è Image Generator</h1>
                    </div>
                    <div class="header-actions">
                        <button class="clear-chat-btn" onclick="clearChat('image')" title="–û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é">
                            üóëÔ∏è
                        </button>
                    </div>
                </div>
                <div class="image-gallery" id="imageGallery">
                    <div class="empty-state">
                        <div class="empty-state-icon">üé®</div>
                        <h3>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å</h3>
                        <p>–û–ø–∏—à–∏ —â–æ —Ö–æ—á–µ—à –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î DALL-E 3 —á–µ—Ä–µ–∑ Pollinations.ai)</p>
                    </div>
                </div>
                <div class="input-area">
                    <div class="input-wrapper">
                        <textarea id="imageInput" placeholder="–û–ø–∏—à–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é... (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: a cat in space)" rows="1"></textarea>
                        <button id="imageSendBtn" onclick="generateImage()">–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏</button>
                    </div>
                    <div class="shortcuts-hint">
                        üí° –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Pollinations.ai ‚Ä¢ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Å—Ç–∏–ª—ñ–≤
                    </div>
                </div>
            </div>
        </div>

        <!-- –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ -->
        <div class="mode-content" id="libraryMode">
            <div class="library-container">
                <div class="header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <h1>üìö –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤</h1>
                    </div>
                    <div class="header-actions">
                        <input type="text" id="librarySearch" placeholder="üîç –ü–æ—à—É–∫..." oninput="filterLibrary()">
                    </div>
                </div>
                
                <div class="library-filters">
                    <button class="filter-btn active" onclick="filterByType('all')">–í—Å—ñ</button>
                    <button class="filter-btn" onclick="filterByType('gemini')">‚ú® Gemini</button>
                    <button class="filter-btn" onclick="filterByType('deepseek')">üíª DeepSeek</button>
                    <button class="filter-btn" onclick="filterByType('image')">üñºÔ∏è Images</button>
                    <button class="filter-btn" onclick="filterByType('favorites')">‚≠ê –£–ª—é–±–ª–µ–Ω—ñ</button>
                </div>

                <div class="library-content" id="libraryContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìö</div>
                        <h3>–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø–æ—Ä–æ–∂–Ω—è</h3>
                        <p>–ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–æ–∑–º–æ–≤–∏ —Ç–∞ –ø—Ä–æ–µ–∫—Ç–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —Ç—É—Ç</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è -->
        <div class="mode-content" id="settingsMode">
            <div class="settings-container">
                <div class="settings-header">
                    <div class="header-left">
                        <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                        <div>
                            <h1>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h1>
                            <p>–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è API –∫–ª—é—á—ñ–≤ —Ç–∞ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –ø—Ä–æ–º–ø—Ç—ñ–≤</p>
                        </div>
                    </div>
                </div>
                
                <div class="settings-content">
                    <div class="settings-section">
                        <h2>üîë API –ö–ª—é—á—ñ</h2>
                        <div class="setting-item">
                            <label>Gemini API Key</label>
                            <input type="password" id="geminiApiKey" placeholder="AIza...">
                            <small>–û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞ <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
                        </div>
                        <div class="setting-item">
                            <label>Groq API Key (DeepSeek)</label>
                            <input type="password" id="groqApiKey" placeholder="gsk_...">
                            <small>–û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞ <a href="https://console.groq.com/keys" target="_blank">Groq Console</a></small>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h2>üìù –°–∏—Å—Ç–µ–º–Ω—ñ –ü—Ä–æ–º–ø—Ç–∏</h2>
                        <div class="setting-item">
                            <label>Gemini System Prompt</label>
                            <textarea id="geminiSystemPrompt" rows="4" placeholder="–¢–∏ –∫–æ—Ä–∏—Å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç...">–¢–∏ –∫–æ—Ä–∏—Å–Ω–∏–π AI –∞—Å—ñ—Å—Ç–µ–Ω—Ç. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —á—ñ—Ç–∫–æ, —Å—Ç–∏—Å–ª–æ —Ç–∞ –ø–æ —Å—É—Ç—ñ. –ì–æ–≤–æ—Ä–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é.</textarea>
                        </div>
                        <div class="setting-item">
                            <label>DeepSeek System Prompt</label>
                            <textarea id="deepseekSystemPrompt" rows="4" placeholder="–¢–∏ –µ–∫—Å–ø–µ—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç...">–¢–∏ –µ–∫—Å–ø–µ—Ä—Ç-–ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç. –ü–∏—à–∏ —á–∏—Å—Ç–∏–π, –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –∫–æ–¥ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏. –°—Ç–≤–æ—Ä—é–π –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏ –¥–ª—è HTML, CSS, JS. –ì–æ–≤–æ—Ä–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é.</textarea>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">‚ú®</div>
                                <div class="stat-info">
                                    <div class="stat-label">Gemini –∑–∞–ø–∏—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statGemini">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üíª</div>
                                <div class="stat-info">
                                    <div class="stat-label">DeepSeek –∑–∞–ø–∏—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statDeepseek">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üñºÔ∏è</div>
                                <div class="stat-info">
                                    <div class="stat-label">–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ –∑–æ–±—Ä–∞–∂–µ–Ω—å</div>
                                    <div class="stat-value" id="statImages">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üíæ</div>
                                <div class="stat-info">
                                    <div class="stat-label">–ó–±–µ—Ä–µ–∂–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç—ñ–≤</div>
                                    <div class="stat-value" id="statSaved">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìù</div>
                                <div class="stat-info">
                                    <div class="stat-label">–ü—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–æ–∫–µ–Ω—ñ–≤</div>
                                    <div class="stat-value" id="statTokens">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìÖ</div>
                                <div class="stat-info">
                                    <div class="stat-label">–î–Ω—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</div>
                                    <div class="stat-value" id="statDays">0</div>
                                </div>
                            </div>
                        </div>
                        <button class="reset-stats-btn" onclick="resetStats()">üîÑ –°–∫–∏–Ω—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                    </div>

                    <div class="settings-actions">
                        <button class="save-btn" onclick="saveSettings()">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
                        <button class="clear-btn" onclick="clearAllData()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal">
        <div class="search-modal-content">
            <input type="text" id="searchInput" placeholder="üîç –®—É–∫–∞—Ç–∏ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó..." autofocus>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- Diff Viewer Modal -->
    <div class="diff-modal" id="diffModal">
        <div class="diff-modal-content">
            <div class="diff-header">
                <h3>üîÑ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–µ—Ä—Å—ñ–π –∫–æ–¥—É</h3>
                <button onclick="closeDiffViewer()">‚úï</button>
            </div>
            <div class="diff-controls">
                <select id="diffFile1">
                    <option value="">–í–µ—Ä—Å—ñ—è 1</option>
                </select>
                <span>‚ÜîÔ∏è</span>
                <select id="diffFile2">
                    <option value="">–í–µ—Ä—Å—ñ—è 2</option>
                </select>
                <button onclick="compareDiff()">–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏</button>
            </div>
            <div class="diff-result" id="diffResult"></div>
        </div>
    </div>

    <!-- Save Conversation Modal -->
    <div class="save-modal" id="saveModal">
        <div class="save-modal-content">
            <h3>üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–æ–∑–º–æ–≤—É</h3>
            <input type="text" id="saveTitle" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É...">
            <textarea id="saveTags" placeholder="–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∫–æ–º—É): react, website, tutorial" rows="2"></textarea>
            <div class="save-actions">
                <button onclick="confirmSave()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                <button onclick="closeSaveModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <!-- Application Scripts -->
    <script src="js/general.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gemini.js"></script>
    <script src="js/deepseek.js"></script>
    <script src="js/photo.js"></script>
    <script src="js/integrations.js"></script>
    <script src="js/coder-enhancements.js"></script>
    <script src="js/security.js"></script>
    
    <!-- Initialize on load -->
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—Å—ñ –º–æ–¥—É–ª—ñ
            if (typeof initializeSecurity === 'function') {
                initializeSecurity();
            }
            if (typeof initializeIntegrations === 'function') {
                initializeIntegrations();
            }
            if (typeof initializeCoderEnhancements === 'function') {
                initializeCoderEnhancements();
            }
        });
    </script>
</body>
</html>
